import{S as y,i as a}from"./assets/vendor-BrddEoy-.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const L="49618803-936837fbab6b031520c07bf29",w="https://pixabay.com/api/";async function b(t,o=1){const n=`${w}?key=${L}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${o}`;try{const e=await fetch(n);if(!e.ok)throw new Error(`Помилка HTTP: ${e.status}`);return await e.json()}catch(e){throw console.error("Помилка при отриманні зображень:",e),e}}const u=document.querySelector(".gallery"),f=document.querySelector(".load-more"),m=document.querySelector(".loader"),S=new y(".gallery a",{captionsData:"alt",captionDelay:250});function P(t){const o=t.map(({webformatURL:i,largeImageURL:n,tags:e})=>`
        <a href="${n}" class="gallery-item">
            <img src="${i}" alt="${e}" loading="lazy" />
        </a>
    `).join("");u.insertAdjacentHTML("beforeend",o),S.refresh()}function v(){u.innerHTML=""}function M(){m.classList.remove("hidden")}function $(){m.classList.add("hidden")}function q(){f.classList.remove("hidden")}function h(){f.classList.add("hidden")}const l=document.querySelector(".search-form"),d=document.querySelector(".load-more");let g="",s=1;const B=15;document.addEventListener("DOMContentLoaded",()=>{l?l.addEventListener("submit",E):console.error(".search-form не знайдений"),d?d.addEventListener("click",O):console.error(".load-more не знайдений")});async function E(t){t.preventDefault(),v(),h();const o=t.currentTarget.elements.searchQuery;if(!o||!o.value.trim()){a.warning({title:"Увага",message:"Будь ласка, введіть пошуковий запит.",position:"topRight"});return}g=o.value.trim(),s=1,await p()}async function O(){s+=1,await p()}async function p(){M();try{const t=await b(g,s);if(!t||!t.hits||t.hits.length===0){a.info({title:"Інформація",message:"На жаль, за вашим запитом нічого не знайдено.",position:"topRight"});return}P(t.hits);const o=Math.ceil(t.totalHits/B);s>=o?(h(),a.info({title:"Кінець результатів",message:"Ви досягли кінця результатів пошуку.",position:"topRight"})):q();const i=document.querySelector(".gallery-item");if(i){const{height:n}=i.getBoundingClientRect();window.scrollBy({top:n*2,behavior:"smooth"})}}catch(t){console.error("Помилка під час отримання даних: ",t),a.error({title:"Помилка",message:"Сталася помилка при завантаженні зображень. Спробуйте ще раз.",position:"topRight"})}finally{$()}}
//# sourceMappingURL=index.js.map
