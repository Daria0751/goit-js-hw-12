import{S as p,i as a}from"./assets/vendor-BrddEoy-.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const g="49618803-936837fbab6b031520c07bf29",y="https://pixabay.com/api/";async function L(t,r=1){const i=`${y}?key=${g}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${r}`;try{const e=await fetch(i);if(!e.ok)throw new Error(`Помилка HTTP: ${e.status}`);return await e.json()}catch(e){throw console.error("Помилка при отриманні зображень:",e),e}}const u=document.querySelector(".gallery"),d=document.querySelector(".load-more"),f=document.querySelector(".loader"),w=new p(".gallery a",{captionsData:"alt",captionDelay:250});function b(t){const r=t.map(({webformatURL:n,largeImageURL:i,tags:e})=>`
        <a href="${i}" class="gallery-item">
            <img src="${n}" alt="${e}" loading="lazy" />
        </a>
    `).join("");u.insertAdjacentHTML("beforeend",r),w.refresh()}function S(){u.innerHTML=""}function P(){f.classList.remove("hidden")}function $(){f.classList.add("hidden")}function M(){d.classList.remove("hidden")}function h(){d.classList.add("hidden")}const q=document.querySelector(".search-form"),v=document.querySelector(".load-more");let l="",s=1;const B=15;async function R(t){if(t.preventDefault(),S(),h(),l=t.currentTarget.elements.searchQuery.value.trim(),!l){a.warning({title:"Увага",message:"Будь ласка, введіть пошуковий запит.",position:"topRight"});return}s=1,await m()}async function E(){s+=1,await m()}async function m(){P();try{const t=await L(l,s);if(t.hits.length===0){a.info({title:"Інформація",message:"На жаль, за вашим запитом нічого не знайдено.",position:"topRight"});return}b(t.hits);const r=Math.ceil(t.totalHits/B);s>=r?(h(),a.info({title:"Кінець результатів",message:"Ви досягли кінця результатів пошуку.",position:"topRight"})):M();const{height:n}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:n*2,behavior:"smooth"})}catch{a.error({title:"Помилка",message:"Сталася помилка при завантаженні зображень. Спробуйте ще раз.",position:"topRight"})}finally{$()}}q.addEventListener("submit",R);v.addEventListener("click",E);
//# sourceMappingURL=index.js.map
